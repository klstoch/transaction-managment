### Для развертывания и тестирования приложения необходимо последовательно ввести в терминале следующие команды:

```bash
./vendor/bin/sail up -d  #  запустить контейнера
```

```bash
docker exec -it transaction-managment-laravel.test-1 bash   # команда для входа в контейнер
```

```bash
php artisan migrate  # выполнить миграции
```

```bash
php artisan test  # запустить тестирование
```

```bash
curl -X POST http://localhost/api/v1/register -H "Content-Type: application/json" -H "Accept: application/json" -d '{
  "name": "Ivan Petrov",
  "email": "ivan_petrov@example.com",
  "password": "password12",
  "password_confirmation": "password12"
}'
# запрос для регистрации пользователя
```

```bash
curl -X POST http://localhost/api/v1/login -H "Content-Type: application/json" -H "Accept: application/json" -d '{
  "email": "ivan_petrov@example.com",
  "password": "password12" 
}'
# запрос для входа пользователя и создания токена
```

```bash
curl -X POST http://localhost/api/v1/deposit \
-H "Authorization: Bearer Your_access_token" \
-H "Content-Type: application/json" \
-H "Accept: application/json" \
-d '{
    "amount": 3000,
    "currency": "RUB"
}'
# запрос для ввода денежных средств
```

```bash
curl -X POST http://localhost/api/v1/withdraw \
-H "Authorization: Bearer Your_access_token" \
-H "Content-Type: application/json" \
-H "Accept: application/json" \
-d '{
"amount": 1000,
"currency": "RUB"
}'
# запрос для вывода денег
```

```bash
curl -X POST http://localhost/api/v1/transfer \
-H "Authorization: Bearer Your_access_token" \
-H "Content-Type: application/json" \
-H "Accept: application/json" \
-d '{
"amount": 1000,
"currency": "RUB",
"recipient_email": "john@example.com"
}'
# запрос для перевода денег
```

```bash
curl -X GET http://localhost/api/v1/transactions 
-H "Authorization: Bearer Your_access_token" 
-H "Accept: application/json"
# запрос для получения всех транзакций
```

```bash
curl -X GET http://localhost/api/v1/transactions \
-H "Authorization: Bearer Your_access_token" \
-H "Content-Type: application/json" \
-H "Accept: application/json" \
-G --data-urlencode "type=deposit" \
--data-urlencode "from_date=2024-01-01" \
--data-urlencode "to_date=2024-10-10" \
--data-urlencode "user_id=1"
# запрос для получения транзакций с использованием фильтров
```

Приложение разработано опираясь на техническое задание, прикрепленное ниже.
### "Разработка системы управления транзакциями и балансом пользователей"
Описание:
Требуется создать простую финансовую систему, которая позволит пользователям управлять своими балансами
и совершать транзакции (пополнение счета, вывод средств и переводы между пользователями). 
В качестве базы данных необходимо использовать PostgreSQL, а для реализации — Laravel.

Требования к функционалу:

Регистрация и авторизация пользователей:
Пользователь должен иметь возможность зарегистрироваться с указанием:
Имя
Email
Пароль
Реализовать аутентификацию через API с использованием Laravel Sanctum или Laravel Passport.

Работа с балансом пользователя:
У каждого пользователя должен быть баланс, который изначально равен 0.
Пользователь может выполнять следующие действия:
Пополнение баланса (например, через API-запрос).
Вывод средств (с проверкой на наличие достаточного количества средств).
Перевод средств другим пользователям.

Транзакции:
Каждое действие с балансом (пополнение, вывод средств, перевод) должно записываться в таблицу транзакций.

Каждая транзакция должна содержать:
 - ID пользователя, который совершил действие.
 - Тип транзакции: пополнение, вывод, перевод  
 - Сумма транзакции
 - Дата и время транзакции
 - ID получателя (для переводов)
 - Все транзакции должны быть атомарными (использовать транзакции базы данных в PostgreSQL).

Функционал перевода средств:

Пользователь может перевести средства другому пользователю по его email.
При переводе средства должны списываться с баланса отправителя и зачисляться на баланс получателя в одной транзакции.
Баланс не может стать отрицательным (должна быть проверка перед списанием).

Просмотр истории транзакций:
Пользователь должен иметь возможность получить список всех своих транзакций с возможностью фильтрации по:
Типу транзакции (пополнение, вывод, перевод)
Периоду (дата с/по)
Результаты должны быть отсортированы по дате (по умолчанию — от новых к старым).

Ограничения:
Баланс не может быть отрицательным после вывода или перевода.
Максимальная сумма пополнения или вывода за одну операцию — 100,000 единиц.
Минимальная сумма для любой операции — 1 единица.

Технические требования:
Laravel:
Проект должен быть реализован на Laravel версии 11.
Используйте PostgreSQL для работы с базой данных (использовать миграции для создания таблиц).

Транзакции базы данных:
Для перевода средств и операций пополнения/вывода необходимо использовать транзакции базы данных, чтобы гарантировать целостность данных.

Валидация:
Все операции должны проходить валидацию (например, проверка баланса перед выводом средств или переводом).
При возникновении ошибок необходимо возвращать информативные сообщения с указанием причины (недостаточный баланс, неверные данные и т.д.).

API:
Все действия пользователя должны происходить через REST API.
API должно возвращать стандартные коды ошибок и сообщений (200 — успешная операция, 400 — ошибка запроса и т.д.).

Тестирование:
Реализуйте unit-тесты и/или feature-тесты для проверки основных методов API: регистрация, пополнение, вывод, перевод, проверка истории транзакций.

Дополнительные (необязательные) задачи:

Обработка исключений:
Реализовать обработку исключений для предотвращения возможных проблем при работе с базой данных или внешними сервисами.

Валюты:
Добавить поддержку нескольких валют для пользователей.
Операции пополнения и перевода должны учитывать конвертацию валют с использованием фиксированных курсов

[Laravel README is at this link](Laravel-README.md)
